<script src="/res/core/js/page-report.js"></script>

<div>
	<div class="col-md-3 col-sm-3 ez panel-filter">
		<div class="panel ez no-padding hardcore">
			<div class="panel-heading">
				<h3 class="no-margin">Filter</h3>
				<!-- <div class="panel-nav-button">
					<div class="form-group relative align-right no-margin no-padding hardcore">
						<button class="btn btn-sm btn-primary" data-bind="click: rpt.refresh, visible: rpt.mode() == 'render'">
							<i class="fa fa-refresh"></i> Refresh
						</button>
					</div>
				</div> -->
			</div>
			<div class="panel-body">
				<div id="from-filter">
					<p>Click each section below to show respective filter.</p>
					<div class="wrapper">
						<div class="panel-group ez-collapse" role="tablist" aria-multiselectable="true" data-bind="template: { name: 'template-report-filter', foreach: rpt.filter }"></div>
					</div>
				</div>

				<div class="clearfix"></div>
			</div>
		</div>
	</div>

{{if eq .subreport "all"}}
	<div class="col-md-9 col-sm-9 ez panel-content">
		<div class="panel ez no-padding hardcore">
			<div class="panel-heading">
				<h3 class="no-margin">
					<button class="btn-toggle-filter no-padding"></button>
					All Analysis Ideas
				</h3>
			</div>
			<div class="panel-body">
				<p>Click which analysis you want to view.</p>

				<div data-bind="foreach: rpt.analysisIdeas()" class="list-analysis">
					<div class="col-md-3">
						<div class="wrapper">
							<a href="#" data-bind="attr: { 'href': '/web/report/' + $data._id }, text: $data.name"></a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
{{else}}
	<script>let o = { ID: "{{.row.ID}}", Name: "{{.row.Name}}" }</script>
	<script src="/res/core/js/page-report-analysis.js"></script>

	<div class="col-md-9 col-sm-9 ez panel-content">
		<div class="col-md-6 col-sm-6 no-padding-left hardcore panel-content-pivot">
			{{template "page-widget-pivot.html"}}
		</div>
		<div class="col-md-6 col-sm-6 no-padding-right hardcore panel-content-map">
			{{template "page-widget-chart.html"}}
		</div>
	</div>
{{end}}

	
	<div class="clearfix"></div>
</div>